"use strict";Vue.config.devtools=!0;var ltdc_megamenu=new Vue({el:"#js-megamenu--id",data:{isOpen:!1,aMegaNav:{children:[]},stick:!1,bL2:!1,bL3:!1,cat_lvl1:{},cat_lvl2:{},hasImage:!1,lazyLoaded:!1},watch:{hasImage:function(){this.hasImage&&!this.lazyLoaded&&(this.lazyLoaded=!0,[].slice.call(document.querySelectorAll("[data-ugc2-cat]")).filter(function(e){var t=e.firstElementChild;void 0!==t&&void 0!==t.dataset.lzSrc&&(t.src=t.dataset.lzSrc)}))}},methods:{open:function(){this.isOpen=!0,oTopmenu&&(this.$el.style.top=oTopmenu.getTopmenuLoc()),oTopmenu&&(this.stick=oTopmenu.isSticky())},close:function(){this.hover_l1("static"),this.isOpen=!1},setCat:function(e){this.oCat=e},hover_l1:function(e){this.mutexUgc2(e),"static"===e?(this.cat_lvl1={},this.bL2=!1):(this.cat_lvl1=this.getSubCat(e),this.cat_lvl1&&(this.bL2=!0)),this.bL3=!1,this.aMegaNav.children.filter(function(e){e.select=!1})},hover_l2:function(e){this.cat_lvl1.select=!0,this.cat_lvl2=this.getSubCat(e),this.bL3=this.cat_lvl2.children,this.cat_lvl1.children.filter(function(e){e.select=!1})},hover_l3:function(e){this.cat_lvl2.select=!0},mutexUgc2:function(t){var i=!1,e=document.querySelectorAll(".ugc2__mutex");1<=e.length&&[].slice.call(e).filter(function(e){t===e.dataset.ugc2Cat?(e.classList.remove("ugc2__mutex--hide"),i=!0):e.classList.add("ugc2__mutex--hide")}),i?(document.getElementById("js-ugc2--id").classList.remove("mm-grid__ugc2--hide"),this.hasImage=!0):(document.getElementById("js-ugc2--id").classList.add("mm-grid__ugc2--hide"),this.hasImage=!1)},getSubCat:function(t){var i=[],e=[],n={};return 0===(e=this.aMegaNav.children.filter(function(e){if(e.cat===t)return!0})).length?e=this.aMegaNav.children.filter(function(e){e.children&&1<=(i=e.children.filter(function(e){if(e.cat===t)return!0})).length&&(n=i[0])}):n=e[0],n},parseJSONCat:function(){var e={},t=0,i="",n="",a=-1;for(var c in jsnCat)switch(t=1,void 0!==jsnCat[c].level2CategoryUrl&&(t=2),void 0!==jsnCat[c].level3CategoryUrl&&(t=3),i=jsnCat[c]["level"+t+"DisplayName"],n=jsnCat[c]["level"+t+"CategoryUrl"],t){case 1:e={name:i,href:n,cat:c},this.aMegaNav.children.push(e),a=-1;break;case 2:void 0===e.children&&(e.children=[]),e.children.push({name:i,href:n,cat:c}),a++;break;case 3:void 0!==e.children[a]&&(void 0===e.children[a].children&&(e.children[a].children=[]),e.children[a].children.push({name:i,href:n,cat:c}))}}},created:function(e){this.parseJSONCat()}}),oMegamenu=function(e,t,n){var i=e.getElementById("js-topmenu__menu--id"),a=function(){i.classList.remove("megamenu"),n.close()};return i&&(i.addEventListener("click",function(e){oTopmenu&&oTopmenu.isMobile()?oTopmenu.autoToggle():n.isOpen?a():(i.classList.add("megamenu"),oTopsearch&&oTopsearch.close(),oFlymyaccount&&oFlymyaccount.close(),vTAtopmenu&&vTAtopmenu.close(),n.open())},!0),e.body.addEventListener("click",function(e){for(var t=e.target,i=!1;"HTML"!==t.tagName;){if("js-topmenu__menu--id"===t.id)return!1;if("LTDC-MEGAMENU"===t.tagName){i=!0;break}t=t.parentNode}!i&&n.isOpen&&a()},!0)),window.addEventListener("scroll",function(){a()}),{close:function(){a()}}}(document,0,ltdc_megamenu);