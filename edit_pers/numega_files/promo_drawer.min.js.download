"use strict";var ltdc_promo_drawer=function(e,t){var o,r,n=e.getElementById(t[0]),a=e.getElementById(t[1]),i=e.getElementById(t[2]),d=[],c=0,l=!1,s=!0,f="dock";if(n&&a){o=n.firstElementChild,r=o.nextElementSibling;var u=function(){if(1022<=window.innerWidth&&window.innerWidth<=1368)return!0},m=function(){s=!s,n.classList.remove("l-promo_drawer--"+f+"ed"),a.style.transform="rotate(0deg)",oTopmenu&&oTopmenu.isMobile()&&!u()&&i.dataset.capCurrent&&(i.innerHTML=i.dataset.capCurrent)},p=function(){s=!s,n.classList.add("l-promo_drawer--"+f+"ed"),a.style.transform="rotate(180deg)",i.dataset.capDock&&(i.innerHTML=i.dataset.capDock),l=!1,w("input")},_=function(e){i.dataset.capCurrent=d[e].caption,s||(i.innerHTML=d[e].caption),oTopmenu&&oTopmenu.isMobile()&&!u()?(d.filter(function(e){e.el.classList.add("hide")}),d[e].el.classList.remove("hide")):d.filter(function(e){e.el.classList.remove("hide")})},w=function(e){e&&[].slice.call(r.querySelectorAll(e)).filter(function(e){"HIDDEN"!==e.type.toUpperCase()&&(e.value="")})};return a.style.transition="all 1.8s ease-out",a.style.transform="rotate(180deg)",{init:function(e){e&&(e.toLowerCase(),ltdc_promo_drawer.setDockMode(n.dataset.dock),n.classList.remove("hide"),o.addEventListener("click",function(e){ltdc_promo_drawer.toggle(),ltdc_promo_drawer.isDocked()||fireTealiumEvent({e_special_offers_drawer:"t"})}),["click","touchstart"].forEach(function(e){window.addEventListener(e,function(e){var t=document.getElementsByClassName("reveal-modal-bg")[0];if(!(t&&"block"==t.style.display||"undefined"!=typeof ltdc_reveal&&ltdc_reveal.isOpen)){for(var o=e.target,r=!1;"HTML"!==o.tagName;){if("LTDC-PROMO_DRAWER"===o.tagName){l=r=!0;break}o=o.parentNode}r||s||p()}},!0)}),o.style.left=document.body.clientWidth/2-o.clientWidth/2+"px")},open:function(e,t){var o=function(t){if(t)return d.filter(function(e){if(t===e.token)return!0})[0].order}(e);if(o&&(c=--o,_(c)),s&&m(),t&&fireTealiumEvent){var r={};r[t]="t",fireTealiumEvent(r)}},toggle:function(){s?m():p()},enchant:function(){s&&6<Math.floor(9*Math.random()+1)&&(a.style.transform="rotate(0deg)",a.style.fill="#00ff00",setTimeout(function(){s&&(a.style.transform="rotate(180deg)"),a.style.fill="#fff"},2600))},prev:function(){0<c&&_(--c)},next:function(){c<d.length-1&&_(++c)},autoopen:function(){setTimeout(function(){ltdc_promo_drawer.isDocked()||ltdc_promo_drawer.isEngaged()||ltdc_promo_drawer.toggle()},9e3),setTimeout(function(){ltdc_promo_drawer.open()},2e3)},setDockMode:function(e){"true"===e?(f="dock",n.classList.remove("l-promo_drawer--nodocked")):(f="nodock",n.classList.remove("l-promo_drawer--docked")),n.classList.add("l-promo_drawer--"+f+"ed")},reset:function(){localStorage.removeItem("ltdc_promo_drawer")},test_date:function(e){if(e){var t=new Date(Date.now()+24*e*60*60*1e3);localStorage.setItem("ltdc_promo_drawer",t.getTime()),console.table([{date:Date(),Source:"Now"},{date:t,Source:"Calculated"}])}},isDocked:function(){return s},isEngaged:function(){return l},isTabletLandscape:function(){return u()}}}}(document,["js-promo_drawer--id","js-prmo-drwr__vect--id","js-prmo-drwr__caption--id"]);ltdc_promo_drawer&&ltdc_promo_drawer.init(document.body.dataset.brand);