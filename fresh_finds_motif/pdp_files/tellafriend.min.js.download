"use strict";var vltdc_tellafriend=new Vue({el:"#js-tellafriend--id",data:{sBrand:"LTD",sBrandURL:"LTDCommodities.com",sFriendsName:"",sFriendsEmail:"",sYourName:"",sYourEmail:"",sMessage:"I was shopping online today when I saw this product at LTDCommodities.com and thought of you.",aC2AMsg:["Send Email to a Friend","Enter Friend's Name","Enter Friend's Email","Enter Your Name","Enter Your Email","Enter a Message","Enter a Valid Email"],sC2AMsg:""},methods:{clear:function(){this.sFriendsName="",this.sFriendsEmail=""}},watch:{sBrand:function(){this.sBrandURL="LTD"==this.sBrand?"LTDCommodities.COM":"Lakeside.com",this.sMessage=this.sMessage.replace("LTDCommodities.com",this.sBrandURL)}},computed:{isValid:function(){var e=0,s=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return this.sMessage||(e=5),s.test(this.sYourEmail)||(e=6),this.sYourEmail||(e=4),this.sYourName||(e=3),s.test(this.sFriendsEmail)||(e=6),this.sFriendsEmail||(e=2),this.sFriendsName||(e=1),this.sC2AMsg=this.aC2AMsg[e],0==e}},mounted:function(e){this.sBrand=document.body.dataset.brand}}),submitBtn=document.getElementsByClassName("js-tell-a-friend-send")[0];submitBtn&&submitBtn.addEventListener("click",function(){submitTellAFriendForm(!0)});var callBack=function(e){submitTellAFriendForm(!1)};function submitTellAFriendForm(t){if(0==document.getElementsByClassName("gf-c2a--disabled").length){var n=new XMLHttpRequest,e=document.getElementById("tellafriendForm");n.onload=function(){console.log(n.responseText);var e=JSON.parse(n.responseText);if(e.success){t||grecaptcha.reset(),document.getElementsByClassName("taf_error")[0].classList.add("hidden"),document.getElementById("tell-a-friend-form").classList.add("hidden"),document.getElementById("tell-a-friend-msg").innerHTML=e.successMessage,fireTealiumEvent({e_tell_friend:"t"});var s=document.getElementsByClassName("js-tell-a-friend-send")[0];s&&s.addEventListener("click",function(){submitTellAFriendForm(!0)})}else e.error&&(console.log("server side form error"),t||grecaptcha.reset(),document.getElementsByClassName("taf_error")[0].classList.remove("hidden"))},n.onerror=function(){},n.open(e.method,e.action,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(new FormData(e))}else console.log("Please fill all the fields and try again"),t||grecaptcha.reset();return!1}