<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Evo Cart</title>
    <!--  Tasks Priorities
Pers Validation
        SELECT style ( .l-editPers select ) margin: 4px;
        +Move CSS to evocart.css

Recomm (site-wide)
        +stars
        +center name (12px 600)

Sign-in
        +Scroll to
        MD
        +Toast Validation
MD Component
        Uglify?
Progress Bar
        Do not allow over 100%

qty card
        data-max-qty toast message if exceeds (add phone numbers per brand)

Est Tax - modal style
    


-----------  bugs -------------
Wishlist
    Stars
    Sold Out (c2a disabled) | Archived (card invis)
Header iPhone 5
    SVG overlap
+Plus Minus breaking in half
+Plus Minus turning blue on hover (Quickerview leak)
Robins email


    -->
    <!--/*____ Component: flickity   ________________ begin */-->
    <link rel="stylesheet" href="./evocart_files/flickity.min.css">
    <!--/*____ Component: flickity   ________________ end   */-->

    <link rel="stylesheet" href="QQQQpers_skin.css">
    <link rel="stylesheet" href="QQQQmaterial_design_skin.css">
    <link rel="stylesheet" href="./evocart_files/reveal_skin.min.css">
    <link rel="stylesheet" href="QQQQ./evocart_files/snackbar_skin.min.css">
    <link rel="stylesheet" href="product_recommendation_layout.css">
    
    <!-- ____ Component: Brand layout CSS > JSPF Begin -->
    <style type="text/css">
    [v-cloak],[v-cloak] .v-cloak--hide{display:none}
    [v-cloak]::before{content:" ";display:block;position:relative;z-index:254;background:#677b88 url(/images/pdp-loader.gif) no-repeat center;background-position:calc(50% - 10px) calc(20% - 10px);opacity:.4;top:1px;width:100vw;height:100vh}
    .reveal__init{display:none}
    body{font-family:Roboto,sans-serif;padding:0;margin:0}
    body[data-brand=LS] .brand--lsc__show,body[data-brand=LTD] .brand--ltd__show{display:inline}
    body[data-brand=LS] .brand--lsc__showb,body[data-brand=LTD] .brand--ltd__showb{display:block}
    .hidden,.hide,body[data-brand=LS] .brand--ltd__show,body[data-brand=LS] .brand--ltd__showb,body[data-brand=LTD] .brand--lsc__show,body[data-brand=LTD] .brand--lsc__showb{display:none!important}
    .h-height__dbl{height:32px;margin:0} .h-height__full{height:16px;margin:0} .h-height__half{height:8px;margin:0} .h-height__quarter{height:4px;margin:0} .h-height__eighth{height:2px;margin:0}
    .svg-icon{display:-webkit-inline-flex;display:inline-flex;align-self:center;position:relative;height:1em;width:1em}
    .svg-icon svg{height:1.4em;width:1.4em}
    .svg-icon.svg-baseline svg{position:absolute}
    ::selection{background:#cae3ff;text-shadow:none}
    .h-desktop__only--block{display:block}
    .h-mobile__only--block{display:none}
    .h-txt__align--center{text-align: center}
    @media only screen and (min-width:48.1em) and (max-width:61em){
        .h-desktop__only--block{display:none!important} .h-mobile__only--block{display:block}
    }
    @media only screen and (max-width:48em){
        .h-desktop__only--block{display:none!important} .h-mobile__only--block{display:block} #egain-chat-wrapper.egain-launch-chat{bottom:80px!important}
    }
    @media print{.no__print,.no__print *{display:none!important;height:0}}
    @media screen{.no__screen,.no__screen *{display:none!important;height:0}}
    </style>
    <!-- ____ Component: Brand layout CSS > JSPF End -->

    <!-- ____ Component: evoCart layout CSS > JSPF Begin -->
    <link rel="stylesheet" href="evocart_layout.css" >
    <!-- ____ Component: evoCart layout CSS > JSPF End -->
    
<style>
/*  CSS category State    */ /*  color display font visibility ...  */

/*  CSS category Theme    */ /*  color background hover ...  */
body[data-brand=LS]  .pers__view a { color: #D0021B; }
body[data-brand=LTD] .pers__view a { color: #000; }

/*  CSS category Theme    */ /*  color background hover ...  */
body[data-brand="LS"]  .brand__button--primary,
body[data-brand="LS"]  .brand__button-sm--primary,
body[data-brand="LS"]  .brand__button--primary:visited,
body[data-brand="LS"]  .brand__button-sm--primary:visited    
{ color: #ffffff; background-color: #D0021B; border-color: #D0021B; }
body[data-brand="LTD"] .brand__button--primary,
body[data-brand="LTD"] .brand__button-sm--primary,
body[data-brand="LTD"] .brand__button--primary:visited,
body[data-brand="LTD"] .brand__button-sm--primary:visited 
{ color: #ffffff; background-color: #30609A; border-color: #30609A; }
body[data-brand="LS"]  .brand__button--secondary,
body[data-brand="LS"]  .brand__button-sm--secondary,
body[data-brand="LS"]  .brand__button--secondary:visited,
body[data-brand="LS"]  .brand__button-sm--secondary:visited
{ color: #D0021B; background-color: #ffffff; border-color: #D0021B; }
body[data-brand="LTD"] .brand__button--secondary,
body[data-brand="LTD"] .brand__button-sm--secondary,
body[data-brand="LTD"] .brand__button--secondary:visited,
body[data-brand="LTD"] .brand__button-sm--secondary:visited
{ color: #30609A; background-color: #ffffff; border-color: #30619a; }

</style>

  </head>

  <body data-brand="LS">

<ltdc-evoCart class="l-evoCart" role="main">
    <section class="evoCart__content-grd">
        <div class="evoCart__column-grd">
            <article class="evoCartLeft">
                <section class="js-evoCartLeft__signin l-evoCartLeft__signin">
                    <p><a class="js-signin__link">Sign In</a> to see items that you may have added using another computer or device.</p>
                    <div class="signin__column-grd">
                        <h6><span class="js-items-count">3</span> Items in your Cart</h6>
                        <a class="js-view__summary signin__view">View Summary</a>                       
                    </div>
                </section>
                <section class="js-evoCartLeft__items l-evoCartLeft__items"></section>
                <section class="js-evoCartLeft__recom l-evoCartLeft__recom"></section>
                <section class="js-evoCartLeft__wishes l-evoCartLeft__wishes"></section>
            </article>
            <article class="evoCartRight">
                <section class="js-evoCartRight__totals l-evoCartRight__totals"></section>
            </article>
        </div>
        <aside class="evoCart__content">
            <!--  Content Areas Begin  -->
                <div style="
                background-color: #ccc;
                border: solid 1px #aaa;
                margin: 8px;
                text-align: center;
                width: 99%;
                "><h6>Content Area: evocart_footer_1</h6></div>
                <div style="
                background-color: #ccc;
                border: solid 1px #aaa;
                margin: 8px;
                text-align: center;
                width: 99%;
                "><h6>Content Area: evocart_footer_2</h6></div>
            <!--  Content Areas End -->
        </aside>
    </section>
</ltdc-evoCart>
















































<script src="signin_popup.js" async=""></script>
<link rel="stylesheet" href="QQQQsignin_popup_skin.css">


<ltdc-reveal class="l-reveal reveal__init"> 
    <section id="modalSignin" class="signin_reveal_percent reveal__box" data-reveal aria-hidden="false"> 
        <figure class="h-height__full"></figure>
        <ltdc-signin id="js-signin__id" class="l-signin"><!--  Component Begin  -->
            <a class="close-reveal-modal svg__x" aria-label="Close">
                <img src="closex.png" alt="Close">
            </a>
            <section class="js-forgot__view">
                <h5>Please Sign Into Your Account</h5>
                <aside class="input-align">	
                    <input id="js-sign-in__email" class="input-pers" type="email" placeholder="* Email Address" value="" data-md-page="true">
                </aside>
                <aside class="input-align">	
                    <input id="js-sign-in__password" class="input-pers" type="password" placeholder="* Password" value="" data-md-page="true">
                </aside>
                <nav class="nav-grd">
                    <a id="js-sign-in__save" class="flex-item brand__button--primary">Sign In</a> <a class="js-forgot__view flex-item signin__link">Forgot your password?</a>
                </nav>
                <p>Don't have an account? <span class="signin__link">Create an Account</span></p>                
            </section>
            <section class="js-forgot__view hide">
                <h5>Forgot your password?</h5>
                <p>Enter your email address below and we will send you instructions to reset your password.</p>      
                <aside class="input-align">	
                    <input id="js-forgot__email" class="input-pers" type="email" placeholder="* Email Address" value="" data-md-page="true">
                </aside>
                <nav class="nav-grd">
                    <a id="js-forgot__reset" class="flex-item brand__button--primary">Reset Password</a> <div class="flex-item "></div>
                </nav>
            </section>

        </ltdc-signin><!--  Component End  -->	

    </section>
</ltdc-reveal>



<ltdc-reveal class="l-reveal reveal__init">

		<section id="modal-editPers" class="editPers_reveal_percent" data-reveal> 
			<figure class="h-height__full"></figure>
			<ltdc-editPers id="js-editPers__id" class="l-editPers"><!--  Component Begin  -->
				<h4>Change Personalization Instructions</h4>
				<p><span>Please Note:</span> Monogrammed and personalized items cannot be returned except when due to defect. Once placed, your order for these items cannot be returned. This item cannot be shipped to APO/FPO addresses. An asterisk (*) indicates a required field.</p>
                <p><span>Your personalized text will appear exactly as you enter it</span>, so please verify spelling, upper/lower-case letters and punctuation. If selecting a monogram, initials should be entered in the order you want them to appear left to right. (Please note that the use of parenthesis cannot be used in embroidered personalization text.)</p>
				<aside class="input-align">	
					<input class="input-pers" type="text" placeholder="* Name 1" value="" data-md-page="true">
				</aside>
				<aside class="input-align">
					<input class="input-pers" type="text" placeholder="* Name 2" value="" data-md-page="true">
					<section class="pers-error__feedback">
						<p class="pers-error__feedback--red">Please enter required field.</p>
					</section>
                </aside>
                <select>
                    <option>Animal</option>
                    <option>Cat</option>
                    <option>Dog</option>
                    <option>Elk</option>
                    <option>Cow</option>
                    <option>Pig</option>
                    <option>Owl</option>
                    <option>Ant</option>
                </select>
				<aside class="input-align">	
					<input class="input-pers" type="text" placeholder="YYYY" value="" data-md-page="true">
				</aside>
				<p><INPUT type="checkbox"> I HAVE REVIEWED the personalization instructions and CONFIRM my personalization details are correct. I understand I cannot return this item unless it is defective.</p>
				<nav class="nav-grd">
					<a class="js-save brand__button--primary">Save</a> <a class="js-cancel brand__button--secondary">Cancel</a>
				</nav>
			</ltdc-editPers><!--  Component End  -->
		</section>
	</ltdc-reveal>

























<ltdc-reveal class="l-reveal"><!--  Component Begin  -->
    <aside id="id-reveal__scrim" class="close-reveal-modal"></aside>
</ltdc-reveal><!--  Component End  -->	

<ltdc-snackbar class="l-snackbar">
    <section id="js-snackbar__id" class="snackbar__cont snackbar__cont--hide" aria-live="polite" aria-atomic="true">
        <p class="snackbar__msg"></p>
    </section>
</ltdc-snackbar>

<script src="./evocart_files/reveal.min.js.download" async=""></script>
<script src="./evocart_files/flickity.pkgd.min.js.download"></script>
<script src="./evocart_files/snackbar.min.js.download"></script>
<script src="material_design_page.js"></script>

<script>
"use strict";
var oSignIn_inline = (function( doc, aClasses ){
    var eSignInLink = doc.getElementsByClassName( aClasses[0] );  //  Sign in link
    var eSignInSum  = doc.getElementsByClassName( aClasses[2] );  //  View Summary link
    return {
        "init": function(){  //  Wire click events
            if( eSignInLink && eSignInSum ){
                eSignInLink[0].addEventListener("click", function(ev){
                    ltdc_reveal.autoOpen( aClasses[1] );
                    if(typeof oSignIn != "undefined" ) oSignIn.signin();
                });
                eSignInSum[0].addEventListener("click", function(ev){
                    doc.getElementsByClassName( aClasses[3] )[0].scrollIntoView();
                });
            }
        }
    }
})( document, ["js-signin__link", "modalSignin", "js-view__summary", "l-evoCartRight__totals"] );
oSignIn_inline.init();

var oSimpleQty = (function( doc ){ // Simple Minus, Plus and Keystoke capture
    var aNav, fCall, bDebounce=false; // Array of elements, callback function, and mutex
    return {
        "rebind": function( fBack ){ // Call after region is reloaded
            fCall = fBack;
            aNav = [].slice.call( doc.querySelectorAll("[data-quantity-id]") );
            if( aNav && (typeof fCall === "function") ){ // Wire events
                aNav.forEach( function( eNav ){
                    eNav.aNavSub = eNav.querySelectorAll("A, INPUT");
                    eNav.nQty = Number( eNav.aNavSub[1].value );
                    eNav.sSKU_id = eNav.dataset.quantityId;
                    [0,2].forEach( function( nSub ) {
                        eNav.aNavSub[ nSub ].removeEventListener( "click", oSimpleQty.changeQty );
                        eNav.aNavSub[ nSub ].addEventListener( "click", oSimpleQty.changeQty );
                    });
                    eNav.aNavSub[ 1 ].removeEventListener( "keyup", oSimpleQty.changeQty );
                    eNav.aNavSub[ 1 ].addEventListener( "keyup", oSimpleQty.changeQty );
                } );
            }
        },
        "changeQty": function( evChange ){
            var eNav = this.parentElement, nChng = 0; // nav container
            if( evChange.type == "click"){
                if( this.classList.contains( "qty-step__action--plus" ) ){ 
                    var nMax = eNav.dataset.maxQty;
                    if( !nMax ) nMax = 999;
                    nChng = ( eNav.nQty <= 998 ) ? 1 : 0;
                    if( oSimpleQty.isMaxQty( eNav.nQty, nMax ) ){
                        nChng = 0;
                    }
                }
                if( this.classList.contains( "qty-step__action--minus" ) ){ 
                    nChng = ( eNav.nQty >= 2 ) ? -1 : 0;
                }
                eNav.nQty = eNav.nQty + nChng;
                eNav.aNavSub[1].value = eNav.nQty;
            }else{
                if( !bDebounce ){
                    bDebounce = true; // Stream Keystrokes
                    setTimeout( function(){ oSimpleQty.debounce( eNav ) }, 360);
                }
            }
            if( nChng ) fCall( eNav.sSKU_id, eNav.nQty);
        },
        "debounce": function( eNav ){ // Delay action if events are too fast
            var nChng, sChng;
            sChng = eNav.aNavSub[1].value.trim();
            if( oSimpleQty.isValid(sChng) ){
                var nMax = eNav.dataset.maxQty;
                if( !nMax ) nMax = 999;
                if( oSimpleQty.isMaxQty( sChng, nMax ) ){
                    nChng = 0;
                    eNav.aNavSub[1].value = eNav.nQty; // revert
                }else{
                    eNav.nQty = nChng = Number( sChng );
                }
            }else{
                eNav.aNavSub[1].value = eNav.nQty; // revert
            }
            if( nChng ) fCall( eNav.sSKU_id, eNav.nQty ); // Exe Callback
            bDebounce = false;
        },
        "isValid": function( sChng ){
            if( sChng !== "" && !isNaN( sChng ) && !(sChng < 1) ){
                return true;
            }
        },
        "isMaxQty": function( sChng, sMax ){
            if( Number( sChng ) >= Number( sMax ) ){
                if( typeof ltdc_snackbar !== "undefined" ){
                    ltdc_snackbar.q("Sorry, cannot order more than " + sMax + "|Call Customer Service.");
                }
                return true;
            }else{
                return false;
            }
        }
    }
})( document );
var oSimpleExpand = (function( doc ){ // Simple expand / collapse
    var aSum, aDet; // Summary and Details paired elements 1:1
    return {
        "rebind": function(){
            aSum = [].slice.call( doc.querySelectorAll("[data-expand-summary]") );
            aDet = [].slice.call( doc.querySelectorAll("[data-expand-details]") );
            aSum.forEach( function( aE ){
                var aDecl = aE.dataset.expandSummary.split("|");
                if(  aDecl.length > 0 ){
                    aE.aDecl = aDecl;
                    aE.eDet = aDet.filter( function( eDet ){ // match
                        if( eDet.dataset.expandDetails == aDecl[0] ){ return true; }
                    })[0];
                    aE.removeEventListener( "click", oSimpleExpand.click );
                    aE.addEventListener( "click", oSimpleExpand.click );                    
                }
            });
        },
        "click": function( eV ){ // hide or show
            var eDet = this.eDet;
            var aDecl = this.aDecl;
            if( eDet.classList.contains("hide") ){
                eDet.classList.remove("hide");
                if( aDecl[1] ) this.classList.add( aDecl[1] );
                if( aDecl[2] ) { // swap temp
                    aDecl[3] = this.innerHTML;
                    this.innerHTML = aDecl[2];
                }
            }else{
                eDet.classList.add("hide");
                if( aDecl[1] ) this.classList.remove( aDecl[1] );
                if( aDecl[3] ) this.innerHTML = aDecl[3]; // undo
            }
        }
    }
})( document );
// mock oTopmenu.isMobile() and oTopmenu.getTopmenuLoc()
//var oTopmenu = {"isMobile": function(){ return ( document.body.clientWidth <= 1064 ) ? true : false; },"getTopmenuLoc": function(){ return "60px"; }};

var oEvoCart_config = {  //  Configuration Object
    aSections: [
    {ID:"items" ,elID:"js-evoCartLeft__items", url:"evoCartLeft__items.html"},
    {ID:"recom" ,elID:"js-evoCartLeft__recom", url:"evoCartLeft__recom.html"},
    {ID:"wishes",elID:"js-evoCartLeft__wishes",url:"evoCartLeft__wishes.html"},
    {ID:"totals",elID:"js-evoCartRight__totals",url:"evoCartRight__totals.html"}]
};
var oEvoCart = (function( doc, oConf ){
    oConf.aSections.forEach( function( e ){ // Populate NodeArray
        e.elSection = doc.querySelectorAll( "." + e.elID )[0]; // js-class
    });
    return {
        updateSection: function( sSect, fCB ){ // Given a section name, fetch then bind
            var self = this, nCnt = 0;
            oConf.aSections.forEach( function( e ){
                if( e.ID === sSect ){
                    var elSection = e.elSection; // Node ref
                    self.fAsyncGet(nCnt, function( sRespn ){
                        //sRespn = sRespn.split("<!---->")[1];
                        e.elSection.innerHTML = sRespn; });
                        setTimeout( function(){self.bind( sSect, elSection );}, 400 );
                }
                nCnt++;
            } );
        },
        bind: function( sSect, elSection ){  //  Init the newly loaded section
            switch( sSect ){
                case "items":
                    oSimpleQty.rebind( function( sSKU_id, nQty ){
console.log( "--- Submit Asynce Form --- sku= " + sSKU_id.split("|")[0] + " qty= " + nQty + " items" );
                    });
                break;
                case "recom":
                    if( typeof Flickity != "undefined" ){
                        //var nCells = oTopmenu.isMobile() ? 2 : 4; // Lay out Flick different if mobile
                        var oFlick = new Flickity('.carsl', {
                            "freeScroll": true,
                            "groupCells": 4,
                            "autoPlay": false,
                            "initialIndex": 2,
                            "cellAlign": "left",
                            "wrapAround": true,
                            "pageDots": false});
                    }
                    setTimeout( function(){
                        oFlick.reloadCells();
                        oFlick.resize();
                    }, 400 );
                break;
                case "totals":
                    if( typeof oTopmenu != "undefined" ){
                        elSection.style.top = oTopmenu.getTopmenuLoc();
                    }
                    doc.getElementsByClassName("js-more-info-shipping")[0]
                    .addEventListener("click", function( e ){
                        if( typeof ltdc_snackbar != "undefined" ){
                            ltdc_snackbar.q("More Shipping|information");
                        };
                    });
                    doc.getElementsByClassName("js-more-info-tax")[0]
                    .addEventListener("click", function( e ){
                        if( typeof ltdc_snackbar != "undefined" ){
                            ltdc_snackbar.q("More Tax|information");
                        };
                    });
                    // Progress Bar Update Begin
                    var eProgB = doc.getElementsByClassName("ProgressBar__value")[0];
                    if( eProgB && eProgB.dataset.perCent ){
                        eProgB.style.width = eProgB.dataset.perCent + "%";
                    }
                    // Progress Bar Update End
                break;
            }
            oSimpleExpand.rebind();
if( typeof oMDPage !== "undefined" ) oMDPage.bind( doc.body.dataset.brand );
//  Below is just prototype code do not deploy
document.getElementById("js-edit-pers").addEventListener("click", function( ev ){
    ltdc_reveal.autoOpen("modal-editPers");
});
        },
        fAsyncGet: function( iSect, fCB ){ // Given an index and a callback
            var oX = new XMLHttpRequest();
            var sURI = oConf.aSections[ iSect ].url;
            oX.onreadystatechange = function(){ if (oX.readyState==4 && oX.status==200) fCB(oX.responseText); };
            oX.open("GET", sURI, true); // true asynchronous 
            oX.send( null );
        }
    };
}
)(document, oEvoCart_config);

oEvoCart.updateSection( "items" );
oEvoCart.updateSection( "recom" );
oEvoCart.updateSection( "wishes" );
oEvoCart.updateSection( "totals" );

</script>
  </body>
  
</html>
